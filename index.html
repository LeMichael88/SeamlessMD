<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>

  <!-- JavaScript code to parse JSON file -->
  <script>
  $(function() {
    $.getJSON("patientfixed.json", function(data) {
      $.each(data.identifier, function(i, f) {

        // Creates the list of conditions
        var conditionlist = [];
        for (var i = 0; i < f.conditions.length; i++) {
          conditionlist.push(f.conditions[i]);
        }

        // Adds the data to a table
        var tblRow = "<tr>" + "<td>" + f.name[0].family + "</td>" +
        "<td>" + f.name[0].given + "</td>" +
        "<td>" + f.managingOrganization.display + "</td>" +
        "<td>" + f.gender + "</td>" +
        "<td>" + f.conditions.length + "</td>" +
        "<td>" + conditionlist + "</td>" + "</tr>";
        $(tblRow).appendTo("#userdata tbody");
      });
    });
  });
  </script>
</head>

<!-- HTML code -->
<body>
  <div class="wrapper">
    <div class="profile">
      <table id="userdata" border="2">
        <thead>
          <th>Family Name</th>
          <th>Given Name</th>
          <th>Organization name</th>
          <th>Gender</th>
          <th>Number of Conditions</th>
          <th>Conditions</th>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</body>
</html>
